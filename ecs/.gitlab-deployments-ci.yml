# DO NOT modify this file. Auto generated by setup-env make target
include:
  - project: swa-common/devplat/ccp-next/ccp-next-pipeline-fragments
    ref: 1.28.0
    file: .gitlab/pipelines/.terra/pipelines/ccp_next_eas/template.gitlab-ci.yml
    inputs:
      environment: dev
      namespace: dev0
      generate-attestation: true
      runner-tag:
        - build-runner
  - project: swa-common/devplat/ccp-next/ccp-next-pipeline-fragments
    ref: 1.28.0
    file: .gitlab/pipelines/.terra/pipelines/ccp_next_eas/template.gitlab-ci.yml
    inputs:
      environment: qa
      namespace: qa0
  - project: swa-common/devplat/ccp-next/ccp-next-pipeline-fragments
    ref: 1.28.0
    file: .gitlab/pipelines/.terra/pipelines/ccp_next_eas/template.gitlab-ci.yml
    inputs:
      environment: prod
      namespace: prod0
dev_dev0_plan:
  before_script:
    - !reference [.dev_plan, before_script]
    - !reference [.get-auth-before-script-dev-dev0, before_script]
  cache:
    - !reference [.get-auth-before-script-dev-dev0, cache]
    - !reference [.dev_plan, cache]
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_deploy:
  before_script:
    - !reference [.dev_deploy, before_script]
    - !reference [.get-auth-before-script-dev-dev0, before_script]
  cache:
    - !reference [.get-auth-before-script-dev-dev0, cache]
    - !reference [.dev_deploy, cache]
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_post_deploy:
  before_script:
    - !reference [.dev_post_deploy, before_script]
    - !reference [.get-auth-before-script-dev-dev0, before_script]
  cache:
    - !reference [.get-auth-before-script-dev-dev0, cache]
    - !reference [.dev_post_deploy, cache]
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_destroy_plan:
  before_script:
    - !reference [.dev_destroy_plan, before_script]
    - !reference [.get-auth-before-script-dev-dev0, before_script]
  cache:
    - !reference [.get-auth-before-script-dev-dev0, cache]
    - !reference [.dev_destroy_plan, cache]
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_destroy:
  before_script:
    - !reference [.dev_destroy, before_script]
    - !reference [.get-auth-before-script-dev-dev0, before_script]
  cache:
    - !reference [.get-auth-before-script-dev-dev0, cache]
    - !reference [.dev_destroy, cache]
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_checkov_iac_scan:
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_ccp_iac_scan:
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
dev_dev0_deploy_tagging:
  variables:
    OPTS_CHECKOV_IAC_SCAN: --quiet --support --repo-root-for-plan-enrichment terraform --soft-fail-on MEDIUM,CKV_AWS_26,CKV_AWS_169,CKV_AWS_283,CKV2_AWS_11,CKV2_AWS_12
    ENABLE_POST_DEPLOY_JOB: "true"
    AUTO_DEV_APPLY: "true"
    DEPLOYMENT_RESOURCE_GROUP: ${NAMESPACE}
    DEV_DEPLOY_TAGGING_FAILURE_ALLOWED: "true"
qa_qa0_plan:
  before_script:
    - !reference [.qa_plan, before_script]
    - !reference [.get-auth-before-script-qa-qa0, before_script]
  cache:
    - !reference [.get-auth-before-script-qa-qa0, cache]
    - !reference [.qa_plan, cache]
qa_qa0_deploy:
  before_script:
    - !reference [.qa_deploy, before_script]
    - !reference [.get-auth-before-script-qa-qa0, before_script]
  cache:
    - !reference [.get-auth-before-script-qa-qa0, cache]
    - !reference [.qa_deploy, cache]
qa_qa0_post_deploy:
  before_script:
    - !reference [.qa_post_deploy, before_script]
    - !reference [.get-auth-before-script-qa-qa0, before_script]
  cache:
    - !reference [.get-auth-before-script-qa-qa0, cache]
    - !reference [.qa_post_deploy, cache]
qa_qa0_destroy_plan:
  before_script:
    - !reference [.qa_destroy_plan, before_script]
    - !reference [.get-auth-before-script-qa-qa0, before_script]
  cache:
    - !reference [.get-auth-before-script-qa-qa0, cache]
    - !reference [.qa_destroy_plan, cache]
qa_qa0_destroy:
  before_script:
    - !reference [.qa_destroy, before_script]
    - !reference [.get-auth-before-script-qa-qa0, before_script]
  cache:
    - !reference [.get-auth-before-script-qa-qa0, cache]
    - !reference [.qa_destroy, cache]
prod_prod0_plan:
  before_script:
    - !reference [.prod_plan, before_script]
    - !reference [.get-auth-before-script-prod-prod0, before_script]
  cache:
    - !reference [.get-auth-before-script-prod-prod0, cache]
    - !reference [.prod_plan, cache]
prod_prod0_deploy:
  before_script:
    - !reference [.prod_deploy, before_script]
    - !reference [.get-auth-before-script-prod-prod0, before_script]
  cache:
    - !reference [.get-auth-before-script-prod-prod0, cache]
    - !reference [.prod_deploy, cache]
prod_prod0_post_deploy:
  before_script:
    - !reference [.prod_post_deploy, before_script]
    - !reference [.get-auth-before-script-prod-prod0, before_script]
  cache:
    - !reference [.get-auth-before-script-prod-prod0, cache]
    - !reference [.prod_post_deploy, cache]
prod_prod0_destroy_plan:
  before_script:
    - !reference [.prod_destroy_plan, before_script]
    - !reference [.get-auth-before-script-prod-prod0, before_script]
  cache:
    - !reference [.get-auth-before-script-prod-prod0, cache]
    - !reference [.prod_destroy_plan, cache]
prod_prod0_destroy:
  before_script:
    - !reference [.prod_destroy, before_script]
    - !reference [.get-auth-before-script-prod-prod0, before_script]
  cache:
    - !reference [.get-auth-before-script-prod-prod0, cache]
    - !reference [.prod_destroy, cache]
  manual_confirmation: 'You are about to DESTROY a PRODUCTION environment!!! Environment: prod_prod0.'
